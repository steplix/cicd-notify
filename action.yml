name: 'Steplix notify'
description: 'Notify slack using templates'
inputs:
  template:
    required: true
    default: "push"
  status:
    required: true
  slack_webhook_url:
    required: false
  steps:
    required: false
  channel:
    required: false
    
runs:
  using: "composite"
  steps:
    - run: echo Notifying Slack
      shell: bash
    - name: slack - GitHub Actions Slack integration
      uses: act10ns/slack@v2.0.0
      with:
        status: ${{ inputs.status }}
        steps: ${{ inputs.steps }}
        config: ${{ github.action_path }}/templates/${{ inputs.template }}.yml
        channel: ${{ inputs.channel }}
      env:
        SLACK_WEBHOOK_URL: ${{ inputs.slack_webhook_url || env.SLACK_WEBHOOK_URL }}
